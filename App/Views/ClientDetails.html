<div class="container-fluid">

    <h3>
        <small>
            <a href="./#/SiteManagement/country/{{vm.country.CountryId}}">
                {{vm.country.Name}}
            </a>
            / 
            <a href="./#/SiteManagement/district/{{vm.district.DistrictId}}/season/{{vm.season.SeasonId}}">
                {{vm.district.Name}}
            </a>
            /
            <a href="./#/GroupManagement/district/{{vm.district.DistrictId}}/season/{{vm.season.SeasonId}}/site/{{vm.site.SiteId}}">
                {{vm.site.Name}}
            </a>
            /
            <a href="./#/ClientManagement/district/{{vm.district.DistrictId}}/season/{{vm.season.SeasonId}}/site/{{vm.site.SiteId}}/group/{{vm.group.GroupId}}">
                {{vm.group.Name}}
            </a>
        </small>
        <br/>
        Client Details: <b>{{vm.clientCopy.LastName}} {{vm.clientCopy.FirstName}}</b> <small>{{vm.season.SeasonName}}</small>
        
        <!-- online status -->
        <span ng-click="vm.ds.isOnline = !vm.ds.isOnline" ng-show="vm.ds.isOnline" class="text-success">
            <i class="fa fa-check-circle-o pull-right"></i>
        </span>
        <span ng-click="vm.ds.isOnline = !vm.ds.isOnline" ng-show="!vm.ds.isOnline" class="text-danger">
            <i class="fa fa-times-circle-o pull-right"></i>
        </span>
    </h3>
    
    <!-- client id & client details actions -->
    <div style="margin-top: 20px;margin-bottom: 20px">
        <div class="row">
            <div class="col-sm-8 col-md-8">
                <h3>
                    <span class="client-details-header-indented"><small>OAFID: </small>{{vm.client.ClientId > 0 ? vm.client.ClientId : ''}}</span>
                </h3>
            </div>
<!--            <div class="col-sm-1 col-md-1">
                <span class="client-details-actions-indented pull-right">
                    <!-- save client
                    <span ng-show="vm.isAdding" ng-click="vm.isAdding=false;vm.saveClient();"  class="text-success">
                        <i class="fa fa-check"></i>
                    </span>
                </span>
            </div>-->
            <div class="col-sm-2 col-md-2">
                <span class="client-details-actions-indented pull-right">
                    <!-- edit client -->
                    <span ng-show="!vm.isEditing" ng-click="vm.isEditing=true;">           
                        <i class="fa fa-pencil"></i>
                    </span>
                    <!-- save client -->
                    <span ng-show="vm.isEditing" ng-click="vm.isEditing=false;vm.saveClient();"  class="text-success">
                        <i class="fa fa-check"></i>
                    </span>
                    <!-- cancel save -->
                    <span ng-show="vm.isEditing" ng-click="vm.isEditing=false;vm.clearClient();"  class="text-danger">
                        <i class="fa fa-times"></i>
                    </span>                                       
                </span>
            </div>
            <div class="col-sm-1 col-md-1">
                <span class="client-details-actions-indented pull-right">
                        <!-- add clients to group -->
                    <a href="#/SearchClients/district/{{vm.district.DistrictId}}/season/{{vm.season.SeasonId}}/site/{{vm.site.SiteId}}/group/{{vm.group.GroupId}}">
                        <i class="fa fa-search"></i>
                    </a>
                </span>
            </div>
            <div class="col-sm-1 col-md-1">
                <span class="client-details-actions-indented pull-right">
                    <!-- create new client -->
                    <span>
                        <a href="#/ClientDetails/district/{{vm.district.DistrictId}}/season/{{vm.season.SeasonId}}/site/{{vm.site.SiteId}}/group/{{vm.group.GroupId}}/client/0">
                            <i class="fa fa-plus"></i>
                        </a>
                    </span>                    
                </span>
            </div>
        </div>
    </div>

    <div ng-if="vm.clientLoading == 1">
        <span class="client-details-header-indented">
            <img src='/Images/loading.gif' />
        </span>
    </div>
    <div ng-if="vm.clientLoading == 0" class="table-responsive">
        <div class="container-fluid ">
            <table class="table table-borderless client-details-table-indented client-details-table-wrapped">
                <tbody>
                    <tr>
                        <td class="client-details-table-label">
                            <span>National ID: </span>                 
                        </td>
                        <td>                            
                            <input ng-class="{'client-details-table-input-default': 
                                                    true,
                                              'client-details-table-input-editing': 
                                                    vm.isEditing,
                                              'client-details-table-input-changed': 
                                                    vm.isEditing && (vm.client.NationalId != vm.clientCopy.NationalId)}"
                                   ng-readonly="!vm.isEditing"
                                   ng-model="vm.client.NationalId"                                                                   
                                   placeholder="Enter a National ID" />
                        </td>
                    </tr>
                    <tr>
                        <td class="client-details-table-label">
                            <span>Last Name: </span>
                        </td>
                        <td>
                            <input ng-class="{'client-details-table-input-default': 
                                                    true,
                                              'client-details-table-input-editing': 
                                                    vm.isEditing,
                                              'client-details-table-input-changed': 
                                                    vm.isEditing && (vm.client.LastName != vm.clientCopy.LastName)}"
                                   ng-readonly="!vm.isEditing"
                                   ng-model="vm.client.LastName" 
                                   placeholder="Enter a Last Name" />
                        </td>
                    </tr>
                    <tr>
                        <td class="client-details-table-label">
                            <span>First Name: </span>
                        </td>
                        <td>
                            <input ng-class="{'client-details-table-input-default': 
                                                    true,
                                              'client-details-table-input-editing': 
                                                    vm.isEditing,
                                              'client-details-table-input-changed': 
                                                    vm.isEditing && (vm.client.FirstName != vm.clientCopy.FirstName)}"
                                   ng-readonly="!vm.isEditing"
                                   ng-model="vm.client.FirstName" 
                                   placeholder="Enter a First Name" />
                        </td>
                    </tr>
                    <tr>
                        <td class="client-details-table-label">
                            <span>Main Phone Number: </span>
                        </td>
                        <td>
                            <input ng-class="{'client-details-table-input-default': 
                                                    true,
                                              'client-details-table-input-editing': 
                                                    vm.isEditing,
                                              'client-details-table-input-changed': 
                                                    vm.isEditing && (vm.client.MainPhoneNumber != vm.clientCopy.MainPhoneNumber)}"
                                   ng-readonly="!vm.isEditing"
                                   ng-model="vm.client.MainPhoneNumber.PhoneNumber" 
                                   placeholder="Add a Main Phone Number" />
                        </td>
                    </tr>
                    <tr>
                        <td class="client-details-table-label">
                            <span>Mobile 1 Phone Number: </span>
                        </td>
                        <td>
                            <input ng-class=" {'client-details-table-input-default': 
                                                    true,
                                              'client-details-table-input-editing': 
                                                    vm.isEditing,
                                              'client-details-table-input-changed': 
                                                    vm.isEditing && (vm.client.Mobile1PhoneNumber != vm.clientCopy.Mobile1PhoneNumber)}"
                                   ng-readonly="!vm.isEditing"
                                   ng-model="vm.client.Mobile1PhoneNumber.PhoneNumber" 
                                   placeholder="Add a Mobile 1 Phone Number" />
                        </td>
                    </tr>
                    <tr>
                        <td class="client-details-table-label">
                            <span>Mobile 2 Phone Number: </span>
                        </td>
                        <td>
                            <input ng-class=" {'client-details-table-input-default': 
                                                    true,
                                              'client-details-table-input-editing': 
                                                    vm.isEditing,
                                              'client-details-table-input-changed': 
                                                    vm.isEditing && (vm.client.Mobile2PhoneNumber != vm.clientCopy.Mobile2PhoneNumber)}"
                                   ng-readonly="!vm.isEditing"
                                   ng-model="vm.client.Mobile2PhoneNumber.PhoneNumber" 
                                   placeholder="Add a Mobile 2 Phone Number" />
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>